### 4.1 추론통계를 배우기 전에 
전수조사(모집단의 모든 요소 조사)란 기술통계 방법을 사용해 모든 요소로부터 알고자 하는 성질을 계산하고 평가하면 알고 싶은 것을 알아낼 수 있음
표본조사(모집단의 일부인 표본으로 모집단의 성질 추정)

<img width="826" height="404" alt="image" src="https://github.com/user-attachments/assets/24450d88-4ab8-4053-8463-c54b1d64bad6" />

**표본을 얻는다는 것은 모집단에 포함된 전체 값으로 구성된 분포에서 일부를 추출하는 것**
모집단을 나타내는 분포를 **모집단 분포**

#### 확률분포와 실현값
여러 개의 실현값이 발생할 때 간단하게 만들기 위해 확률분포로부터 매번 독립적 발생한다고 간주
실현값이 마치 데이터처럼 보인다는 것, **확률분포와 실현값의 관계는 모집단과 표본의 관계와 매우 비슷**

<img width="827" height="584" alt="image" src="https://github.com/user-attachments/assets/91d2a7d3-3cf8-4bab-9414-f61805812ac6" />

**모집단=확률분포, 표본=확률분포를 따르는 실현값**

#### 데이터로부터 그 발생원의 확률분포 추정하기 
얻은 표본으로 모집단을 추정한다라는 원래 목표를 ** 얻은 실현값으로 이 값을 발생시킨 확률분포를 추정한다 ** 라고 바꿔 말할 수 있음

#### 모집단분포 모형화 
수식으로 기술 = 수학적으로 다룰 수 있는 확률분포에 근사하여 작업을 진행할 수 있게 되어 모집단의 추정 용이
**모형화** = 수학적인 확률분포로 모집단분포를 근사하는 것

<img width="844" height="499" alt="image" src="https://github.com/user-attachments/assets/e6e464b7-16f1-4c65-b154-5f295f258406" />

#### 무작위 추출 
데이터를 얻을 때 모집단에 포함된 요소를 하나씩 무작위로 선택하여 추출하는 방식
이 때 독립적인 선택 방식이 적절함

#### 무작위 추출 방법
**단순무작위추출법** 이란 모든 요소를 목록으로 만들고 난수를 이용하여 표본을 정하는 것
이 방법은 노력과 시간 비용이 많이 들 때 있음
**층화추출법** 이란 모집단을 몇 개의 층으로 미리 나눈 뒤, 각 층에서 필요한 수의 조사대상을 무작위로 추출하는 방법으로 실제로 많이 사용

#### 편향된 추출로는 올바른 추정이 어려움
편향된 추출을 할 경우 표본으로 모집단을 올바르게 추정할 수 없음

#### 데이터 얻는 법
모집단에 대해 추정한 결과를 어느정도 일반화할 수 있는가는 각 분야의 고유의 지식에 따라 달라짐

#### 추론통계를 직감적으로 이해하기 
무의식적으로 하고 있는 추론통계에 가까운 일의 예시 중 하나는 된장국의 맛을 보는 장면
된장국 전체가 모집단, 국자로 덜어낸 소량의 된장국은 표본, 맛봄으로 인해 전체 된장국 맛 조사
**정말로 알고자 하는 것은 표본데이터가 아니라 모집단** = 목적은 냄비 안에 든 된장국의 맛을 아는 것
**모집단의 모든 요소를 다 조사하는 전수조사는 어렵다** = 냄비 안의 된장국을 모두 먹어서 맛을 확인할 수 없음
**작은 크기의 표본으로도 모집단을 추론할 수 있다** = 맛 보는 양은 국자로 뜬 정도
**표본을 추출할 때는 무작위로 추출해야 한다** = 그냥 두면 된장이 밑으로 가라앉아 위쪽은 맛이 옅어지는데 윗부분만 떠서 맛 보고 싱겁다고 판단하면 안 됨
표본이 한쪽으로 치우쳐 버려 모집단의 성질을 정확하게 반영하지 않음

### 표본오차와 신뢰구간
#### 모집단과 데이터 사이의 오차 고려하기

<img width="887" height="731" alt="image" src="https://github.com/user-attachments/assets/71bb6d1b-7c40-4fcb-992d-a408440a1c87" />

정말로 알고 싶은 것은 모집단평균이지만 모집단을 직접 알 수 없으므로 모집단의 일부인 크기 n인 표본을 모집단에서 무작위로 추출하여, 이 표본에서 모집단평균을 추정하는 것

#### 표본오차
표본평균이 모집단평균과 정확하게 일치한다면 표본으로부터 모집단의 평균을 알아맞힐 수 있으므로 이는 곧 모집단을 알 수 있다는 뜻
일반적으로 표본평균은 모집단평균과 일치하지 않음
정말로 알고 싶은 것과 실제로 손 안에 있는 데이터에는 어긋남이 생기는데 이를 표본오차라고 함

주사위를 던질 경우 6번 던지는 가운데 중복되는 눈도, 한 번도 나오지 않는 눈도 존재하고, 모집단평균과 표본평균이 일치하지 않음
<img width="853" height="604" alt="image" src="https://github.com/user-attachments/assets/6bf012b7-6e5b-4cfd-b5e2-dacde3582211" />

이는 매번 확률분포에서 독립적으로 실현값이 발생하므로 각 눈이 균등하게 1번씩 나타나는 것은 아님

표본은 모집단의 성질과 정확히 일치하지 않고 확률오차를 수반하는데 오차에 대해 파고들어 생각하는 것이 중요

**큰 수의 법칙**이란 표본크기가 커질수록 표본평균이 모집단평균에 한없이 가까워진다는 법칙

<img width="873" height="757" alt="image" src="https://github.com/user-attachments/assets/f5aefb77-7747-4a06-b83e-111f2cbb32fd" />

#### 표본오차의 확률분포
표본오차의 확률분포를 알면 어느 정도 크기의 오차가 어느 정도의 확률로 나타나는지 알 수 있음

**중심극한정리**이란 모집단이 어떤 분포든 간에 표본크기가 커질수록 표본평균의 분포는 정규분포로 근사
표본평균은 모집단평균을 중심으로 분포, 좌우에 표준편차 1개만큼 폭으로 퍼져 분포함
표본크기가 커질수록 표준편차는 작아지며 이는 표본평균과 모집단평균 사이의 어긋남으로 평균적으로 작아짐

<img width="845" height="569" alt="image" src="https://github.com/user-attachments/assets/4e230a9c-b4ff-4015-9c9f-fe2b4ed2a95b" />

**추정량**이란 모집단의 성질을 추정하는데 사용하는 통계량 
**일치추정량**이란 표본크기 n을 무한대로 했을 때 모집단의 성질과 일치하는 추정량
**비편향추정량** 추정량의 평균값이 모집단의 성질과 일치
비편향추정량은 매번 얻을 대마다 확률적으로 다른 값이 되지만 평균으로 보면 모집단의 성질을 과대하지도 과소하지도 않게 나타내는 양 

<img width="805" height="514" alt="image" src="https://github.com/user-attachments/assets/05b5e825-29f0-437d-826b-51f70803bc33" />

표본평균은 모집단평균을 편향되지 않게 추정하는 비편향추정량
표본표준편차의 경우 모집단의 표준편차를 과소평가하는 문제가 있는데 올바르게 n-1로 나눈 다음 식이, 모집단 표준편차의 비편향추정량이 되는데 이를 비편향표준편차라 부름

<img width="500" height="125" alt="image" src="https://github.com/user-attachments/assets/189f6e54-fb83-4046-8fee-fc2012e37475" />

표본오차의 분포는 평균 0이 되는데 분포 전체를 u만큼 평행이동한 것이기 때문. 표준편차는 그대로
시그마는 모집단의 성질이므로 우리로선 알 수 없는 미지의 숫자이므로 표본에서 추정한 비편향표준편차 s를 시그마 대신 사용한 것을 표준오차로 삼음

<img width="816" height="596" alt="image" src="https://github.com/user-attachments/assets/a4d2106a-dd3d-4b88-96e6-e82b1b42383c" />

오차를 정량화하기 위해 신뢰구간 개념 도입
00% 신뢰구간을 해석하면 00%의 확률로 이 구간에 모집단평균이 있다가 됨
단 확률변수는 모집단평균이 아니라 표본평균
신뢰구간은 표본에서 구한 모집단 u의 추정값을 어느 정도 신뢰할 수 있는지 나타냄
신뢰구간이 좁다면 추정값 가까이에 u가 있다고 생각할 수 있으므로 추정값은 신뢰할 수 있는 값
95% 신뢰구간이라고 하면 20번 중 19번은 구간에 모집단평균을 포함한다는 뜻

**t분포**란 모집단이 정규분포라는 가정하에 미지의 모집단 표준편차를 표본으로 계산한 비편향표준편차로 대용했을 때 표본오차를 푭준오차로 나누어 표준화한 값이 따르는 분포
표준오차를 단위로 표본오차가 몇 개분인지를 나타냄
95%라는 엄밀한 값을 얻고자 미세 조정하는 것으로 표본크기 n이 커짐에 따라 t 분포는 정규분포에 가까워짐

표준오차를 작게 만들기 위해서 분자인 비편형표준편차를 작게 하거나 분모인 표본크기를 크게 하는 2가지 방법
s는 모집단 그 자체 성질에서 유래해 작게 만들기는 매우 어렵지만 측정한 데이터 퍼짐 정도를 줄일 수 있음
표본크기 n은 크게 만듦으로 더 높은 정밀도로 추정할 수 있음
큰 표본을 추출하는데 비용이 들기 때문에 n을 크게 하기는 쉽지 않을 것. 표본크기 n을 a^2 배로 해야 한다는 점에서도 노력이 필요

<img width="850" height="842" alt="image" src="https://github.com/user-attachments/assets/26754e63-f533-40c0-bbb6-92a7d8588c2d" />

표본크기 n이 작아도 적용 가능한 t 분포에서 정규분포에서 얻은 데이터라는 가정이 필요함
t분포는 데이터를 정규분포라는 모형에서 얻었을 때 표본오차가 따르는 분포
문제가 되는 것 = 정규분포와 현저하게 다른 분포에서 데이터를 얻었을 때로 95% 신뢰구간 구해도 95%에서 벗어날 수 있어 주의
단 표본크기 n이 클 때 중심극한정리에 따라 모집단이 정규분포가 아니더라도 표본평균을 정규분포로 근사할 수 있으므로 신뢰구간 정확해짐짐
